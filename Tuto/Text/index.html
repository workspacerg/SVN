<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="css/style.css" />
		<title>Utilisation de SVN</title>
	</head>
<body>

<h1>Utilisation de SVN</h1>

<h2>Principe de fonctionnement</h2>

<p>Comme on l&apos;a vue depuis le début SVN est un outils de versionning. Le principe est assez simple, un serveur stocke les différentes version de votre projet. Chaque utilisateur recupère une copie du projet sur lequels il travail puis renvoie les modification sur le serveur accompagné d&apos;un message d&apos;explication sur les modifications. </p>

<p>Dans cette partie nous allons voir comment utiliser SVN de manière classqiue ainsi que quelques astuces plus pousser. Que ce soit en ligne de commande (aussi bien installer sur windows que sur linux) et avec l&apos;interface graphique tortoise.</p>

<h2>Récupérer un projet</h2>

<p>Avant de pouvoir utilisé votre projet il faut crée une copie de la version serveur. On appel ca un checkout.</p>

<h3>Tortoise</h3>

<p>Avec tortoise le menu SVN Checkout vous ouvre une boite de dialogue dans laquel renseigné.</p>

<ul>
	<li>L&apos;adresse du repertoire et sa branche. (dans notre cas l&apos;adresse commence par http(s)://)</li>
	<li>Le révision à ramener.</li>
</ul>

<figure><img src="Capture%20d%E2%80%99e%CC%81cran%202014-06-30%20a%CC%80%2014.54.18.png"/></figure>

<p>Un nom d&apos;utilisateur et un mot de passe sera demander si vous avez choisie de mettre une sécurité des comptes.</p>

<h3>Linge de commande</h3>

<p>En ligne de commande mettez vous dans le repertoire ou vous souhaitez importer votre projet puis utiliser la commande suivante:</p>

<p><code>svn checkout http://serveur/nomProjet
</code></p>

<p>Si vous avez spécifié des droits d&apos;utilisateur récupérez le projet avec cette commande : </p>

<p><code>svn checkout --username nom http://serveur/nomProjet
</code></p>

<h2>Ajouté ou supprimé des fichiers ou dossier</h2>

<h3>Tortoise</h3>

<p>Pour ajouter un dossier ou document à l&apos;index un clique droit, tortoise puis add : </p>

<figure><img src="Capture%20d%E2%80%99e%CC%81cran%202014-07-05%20a%CC%80%2021.16.46.png"/></figure>

<h3>Ligne de commande</h3>

<p>Pour ajouter des documents en ligne de commande il suffit d&apos;etre dans le repertoire contenant le fichier et faire le commande:</p>

<p><code>svn add &lt;file&gt;
</code></p>

<p><code>svn add &lt;directory&gt;
</code></p>

<p>Par defaut quand on ajoute un repertoire l&apos;ensemble des sous dossier et fichier sont ajouté à l&apos;index. Pour ajouter un dossier sans son contenue : </p>

<p><code>svn add --depth=empty otherdir
</code></p>

<p>Pour ajouter l&apos;ensemble des fichiers :</p>

<p><code>svn add 
</code></p>

<h2>Récupérer la dernière version d&apos;un projet</h2>

<p>Avant toute modification, vous devez afin d&apos;éviter un maximum de conflit télécharger la derniere versions du projet grâce à la commande </p>

<p><code>svn update 
</code></p>

<p>Avec tortoise un clique droit sur le repertoire puis SVN Update.</p>

<figure><img src="Capture%20d%E2%80%99e%CC%81cran%202014-06-30%20a%CC%80%2014.56.13.png"/></figure>

<h2>Envoyer des modifications </h2>

<p>Pour envoyé des modifications, via tortoise un clique sur SVN Commit ouvre une boite de dialogue dans laquelle spécifier un message pour votre commit (obligatoire).</p>

<figure><img src="Capture%20d%E2%80%99e%CC%81cran%202014-06-30%20a%CC%80%2014.56.51.png"/></figure>

<p>En ligne de commande il existe la commande svn commit coupler à plusieurs paramètres:</p>

<p>Exemple : </p>

<p>Commit l&apos;ensemble de documents:</p>

<p><code>svn commit -m &quot;Je suis un commit&quot;</code></p>

<p>Commit d&apos;un fichier en particulier:</p>

<p><code>svn commit -F msg foo.c
</code></p>

<h2>Annuler des changement</h2>

<p>Pour annuler des changements locaux sur tortoise, il faut </p>

<p>aller sur le fichier ou dossier sur lequelle les changements doivent être fait puis aller dans le menu contextuel et choisir revert.</p>

<figure><img src="Capture%20d%E2%80%99e%CC%81cran%202014-07-06%20a%CC%80%2000.05.39.png"/></figure>

<p>Choisir ensuite les fichier ou annuler les modifications et confirmez.</p>

<figure><img src="Capture%20d%E2%80%99e%CC%81cran%202014-07-06%20a%CC%80%2000.05.49.png"/></figure>

<figure><img src="Capture%20d%E2%80%99e%CC%81cran%202014-07-06%20a%CC%80%2000.05.55.png"/></figure>

<h2>Revenir à un ancien commit</h2>

<p>Pour diverse raison lors d&apos;un développement nous pouvons avoir besoin de revenir en arrière ou simplement de relire le code. </p>

<h3>Tortoise</h3>

<p>Tout d&apos;abord selectionner le fichier ou le dossier pour lequel vous souhaitez revenir en arrière.</p>

<p>puis afficher les logs : </p>

<figure><img src="Capture%20d%E2%80%99e%CC%81cran%202014-07-05%20a%CC%80%2022.51.00.png"/></figure>

<p>Après selectionné la révision vers laquelle vous souhaitez revenir et faite : Reverte to this version</p>

<figure><img src="Capture%20d%E2%80%99e%CC%81cran%202014-07-05%20a%CC%80%2022.51.21.png"/></figure>

<figure><img src="Capture%20d%E2%80%99e%CC%81cran%202014-07-05%20a%CC%80%2022.51.26.png"/></figure>

<p>En cas de conflits lisez la section sur comment résoudre les conflit.</p>

<h3>Ligne de commande</h3>

<p>Dans un premier temps, utilisez svn log pour voir les différents commit. Puis utilisez la commande svn div :</p>

<figure><img src="Capture%20d%E2%80%99e%CC%81cran%202014-07-05%20a%CC%80%2023.34.46.png"/></figure>

<p>svn diff -r 4:3</p>

<figure><img src="Capture%20d%E2%80%99e%CC%81cran%202014-07-05%20a%CC%80%2023.34.38.png"/></figure>

<p>L&apos;étape suivante sert à vérifier si le merge entre les deux révisions va fonctionner ou pas:</p>

<p><code>svn merge --dry-run -r:4:3 http://serveur/projet
</code></p>

<p>Si tout ce passe bien effectuez vraiment le revert et commitez le.</p>

<p><code>svn merge -r:4:3 http://serveur/projet
</code></p>

<p><code>svn commit -m &quot;revert ok&quot;
</code></p>

<figure><img src="Capture%20d%E2%80%99e%CC%81cran%202014-07-05%20a%CC%80%2023.37.29.png"/></figure>

<p>Vous savez maintenant comment revenir en arrière.</p>

<h2>Résoudre les conflits</h2>

<h2>Les branches</h2>

<h2>Bonne pratique</h2>

</body>
</html>
